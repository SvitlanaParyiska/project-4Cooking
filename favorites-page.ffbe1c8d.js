!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=s),s("iE7OH").register(JSON.parse('{"1Z6Xn":"favorites-page.ffbe1c8d.js","ee16w":"sprite.f129be79.svg","1sXBe":"index.41becec0.js"}')),s("i8Q71");var a,i=s("bpxeT"),c=s("8nrFW"),o=s("2TvXO");a=s("aNJCr").getBundleURL("1Z6Xn")+s("iE7OH").resolve("ee16w");var u=s("bHHEi"),l=s("dIy1I"),p={favoritesCategoriesList:document.querySelector(".favorites-category-list"),favoritesRecipesList:document.querySelector(".favorites-recipes-list"),emptyStorage:document.querySelector(".empty-storage-js")},f="favourite",v=[];function d(){return(d=e(i)(e(o).mark((function t(){var n,r,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=(0,l.load)(f))&&0!==n.length){e.next=5;break}r=(0,u.createPlugFavoriteMarkup)(),p.emptyStorage.innerHTML=r,e.next=17;break;case 5:return e.prev=5,e.next=8,g(n);case 8:s=e.sent,y(v=b(s)),m(v),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0.message);case 17:case"end":return e.stop()}}),t,null,[[5,14]])})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=e(i)(e(o).mark((function t(n){var r,s;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://tasty-treats-backend.p.goit.global/api/recipes/",t.prev=1,r=n.map(function(){var t=e(i)(e(o).mark((function t(n){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=5,Promise.allSettled(r);case 5:return s=t.sent,t.abrupt("return",s.map((function(e){return e.value})));case 9:throw t.prev=9,t.t0=t.catch(1),new Error("ERROR");case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),h.apply(this,arguments)}function b(t){var n=[];return e(c)(new Set(t.map((function(e){return e.category})))).forEach((function(e){var r=t.filter((function(t){return t.category===e}));n.push({categ:e,recipes:r})})),n}function y(e){var t=e.map((function(e){var t=e.categ;return' <li class="fav-search-item">\n          <button type="button" class="fav-search-button">'.concat(t,"</button>\n        </li>")}));p.favoritesCategoriesList.innerHTML='<li class="fav-search-item">\n          <button type="button" class="fav-search-button all-category-btn">All categories</button>\n        </li>'.concat(t.join(""))}function m(t){p.favoritesRecipesList.innerHTML="";var n=t.flatMap((function(t){return t.recipes.map((function(t){var n=t._id,r=t.title,s=t.category,i=t.description,c=t.preview,o=t.rating;return'<li class=" dishes-list-item-fav" data-id="'.concat(n,'" data-category="').concat(s,'" style="background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 0%, rgba(5, 5, 5, 0.00) 100%), url(').concat(c,'); background-position: center;\n                      background-size: cover;">\n        <button type="button" aria-label="Favorite Button" class="heart-btn js-favourite" data-heart="heart">\n        <svg class="dishes-list-heart-icon">\n        <use href="').concat(e(a),'#icon-heart">\n        </use>\n    </svg>\n</button>\n            \n            <div class="dishes-list-item-wrapper-fav">\n                <h3 class="dishes-list-item-title">').concat(r,'</h3>\n                <p class="dishes-list-item-text-fav">').concat(i,'</p>\n                <div class="dishes-list-item-wrapper-rating">\n                    <div class="dishes-list-item-wrapper-rating-star">\n                        <p class="dishes-list-item-wrapper-rating-text">').concat(o,'</p>\n                        <div class="dishes-list-item-wrapper-rating-star-5">\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                        </div>\n                    </div>\n                    <button type="button" data-id="').concat(n,'" data-recipe-btn="click" class="see-recipe-btn js-see-recipe js-recipe">See recipe</button>\n                </div>\n            </div>\n        </li>')}))}));p.favoritesRecipesList.innerHTML=n.join("")}p.favoritesCategoriesList.addEventListener("click",(function(e){var t=e.target.textContent;if("All categories"===t)m(v);else{m([v.find((function(e){return e.categ===t}))])}})),function(){d.apply(this,arguments)}(),s("4m3QF")}();
//# sourceMappingURL=favorites-page.ffbe1c8d.js.map
