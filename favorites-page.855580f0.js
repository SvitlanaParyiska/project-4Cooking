!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("iE7OH").register(JSON.parse('{"1Z6Xn":"favorites-page.855580f0.js","ee16w":"sprite.f129be79.svg","1sXBe":"index.4a99a295.js"}')),a("i8Q71");var s,i=a("bpxeT"),c=a("8nrFW"),o=a("2TvXO");s=a("aNJCr").getBundleURL("1Z6Xn")+a("iE7OH").resolve("ee16w");var u=a("bHHEi"),l=a("dIy1I"),p={favoritesCategoriesList:document.querySelector(".favorites-category-list"),favoritesRecipesList:document.querySelector(".favorites-recipes-list"),emptyStorage:document.querySelector(".empty-storage-js")},f="favourite",d=[];function v(){return(v=e(i)(e(o).mark((function t(){var n,r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=(0,l.load)(f))&&0!==n.length){e.next=5;break}r=(0,u.createPlugFavoriteMarkup)(),p.emptyStorage.innerHTML=r,e.next=17;break;case 5:return e.prev=5,e.next=8,g(n);case 8:a=e.sent,m(d=b(a)),y(d),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0.message);case 17:case"end":return e.stop()}}),t,null,[[5,14]])})))).apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=e(i)(e(o).mark((function t(n){var r,a;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://tasty-treats-backend.p.goit.global/api/recipes/",t.prev=1,r=n.map(function(){var t=e(i)(e(o).mark((function t(n){var r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(n));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=5,Promise.allSettled(r);case 5:return a=t.sent,t.abrupt("return",a.map((function(e){return e.value})));case 9:throw t.prev=9,t.t0=t.catch(1),new Error("ERROR");case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),h.apply(this,arguments)}function b(t){var n=[];return e(c)(new Set(t.map((function(e){return e.category})))).forEach((function(e){var r=t.filter((function(t){return t.category===e}));n.push({categ:e,recipes:r})})),n}function m(e){var t=e.map((function(e){var t=e.categ;return' <li class="fav-search-item">\n          <button type="button" class="fav-search-button">'.concat(t,"</button>\n        </li>")}));p.favoritesCategoriesList.innerHTML='<li class="fav-search-item">\n          <button type="button" class="fav-search-button all-category-btn">All categories</button>\n        </li>'.concat(t.join(""))}function y(t){p.favoritesRecipesList.innerHTML="";var n=t.flatMap((function(t){return t.recipes.map((function(t){var n=t._id,r=t.title,a=t.category,i=t.description,c=t.preview,o=t.rating,u='<svg class="is-active-star">\n      <use href="'.concat(e(s),'}#icon-star"></use>\n    </svg>'),l='<svg class="dishes-list-star-icon">\n      <use href="'.concat(e(s),'}#icon-star"></use>\n    </svg>');return'<li class=" dishes-list-item-fav" data-id="'.concat(n,'" data-category="').concat(a,'" style="background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 0%, rgba(5, 5, 5, 0.00) 100%), url(').concat(c,'); background-position: center;\n                      background-size: cover;">\n        <button type="button" aria-label="Favorite Button" class="heart-btn js-favourite" data-heart="heart">\n        <svg class="dishes-list-heart-icon">\n        <use href="').concat(e(s),'#icon-heart">\n        </use>\n    </svg>\n</button>\n          \n            <div class="dishes-list-item-wrapper-fav">\n                <h3 class="dishes-list-item-title">').concat(r,'</h3>\n                <p class="dishes-list-item-text-fav">').concat(i,'</p>\n                <div class="dishes-list-item-wrapper-rating">\n                    <div class="dishes-list-item-wrapper-rating-star">\n                        <p class="dishes-list-item-wrapper-rating-text">').concat(o.toFixed(1),'</p>\n                         <div class="dishes-list-item-wrapper-rating-star-5">\n                            ').concat(function(e){for(var t="",n=Math.round(e),r=0;r<5;r++)t+=r<n?u:l;return t}(o),'\n                        </div>\n                    </div>\n                    </div>\n                    <button type="button" data-id="').concat(n,'" data-modal-recipe-open class="see-recipe-btn js-see-recipe">See recipe</button>\n                </div>\n            </div>\n        </li>')}))}));p.favoritesRecipesList.innerHTML=n.join("")}p.favoritesCategoriesList.addEventListener("click",(function(e){var t=e.target.textContent;if("All categories"===t)y(d);else{y([d.find((function(e){return e.categ===t}))])}})),function(){v.apply(this,arguments)}(),a("4m3QF")}();
//# sourceMappingURL=favorites-page.855580f0.js.map
