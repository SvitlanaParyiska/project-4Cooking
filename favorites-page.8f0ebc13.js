!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},t.parcelRequired7c6=r),r("iE7OH").register(JSON.parse('{"1Z6Xn":"favorites-page.8f0ebc13.js","ee16w":"sprite.f129be79.svg","1sXBe":"index.547ed4fc.js"}')),r("i8Q71");var a,i=r("bpxeT"),c=r("8nrFW"),o=r("2TvXO");a=r("aNJCr").getBundleURL("1Z6Xn")+r("iE7OH").resolve("ee16w");var l=r("bHHEi"),u=r("dIy1I"),p={favoritesCategoriesList:document.querySelector(".favorites-category-list"),favoritesRecipesList:document.querySelector(".favorites-recipes-list"),emptyStorage:document.querySelector(".empty-storage-js"),listRecipeEl:document.querySelector(".favorites-recipes-list"),cardsLisCategory:document.querySelectorAll(".fav-search-button")},d="favourite",f=[],v=[];function g(){return(g=e(i)(e(o).mark((function t(){var n,s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(0,u.load)(d))&&0!==n.length||(s=(0,l.createPlugFavoriteMarkup)(),p.emptyStorage.innerHTML=s),e.prev=2,e.next=5,h(n);case 5:m(e.sent),y(f.filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return e.localeCompare(t)}))),document.querySelectorAll(".js-recipe"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0.message);case 15:case"end":return e.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return b=e(i)(e(o).mark((function t(n){var s,r;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://tasty-treats-backend.p.goit.global/api/recipes/",t.prev=1,s=n.map(function(){var t=e(i)(e(o).mark((function t(n){var s;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://tasty-treats-backend.p.goit.global/api/recipes/").concat(n));case 2:return s=e.sent,e.abrupt("return",s.json());case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=5,Promise.allSettled(s);case 5:return r=t.sent,t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(1),new Error("ERROR");case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),b.apply(this,arguments)}function y(e){console.log(e);var t=e.map((function(e){return' <li class="fav-search-item">\n          <button type="button" class="fav-search-button">'.concat(e,"</button>\n        </li>")}));p.favoritesCategoriesList.innerHTML='<li class="fav-search-item">\n          <button type="button" class="fav-search-button all-category-btn">All  categories</button>\n        </li>'.concat(t.join(""))}function m(t){var n=t.map((function(t){var n=t.value,s=n._id,r=n.title,i=n.category,c=n.description,o=n.preview,l=n.rating;return f.push(i),v.push({categ:[i],id:[s]}),'<li class=" dishes-list-item-fav" data-id="'.concat(s,'" data-category="').concat(i,'" style="background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 0%, rgba(5, 5, 5, 0.00) 100%), url(').concat(o,'); background-position: center;\n                      background-size: cover;">\n        <button type="button" aria-label="Favorite Button" class="heart-btn js-favourite" data-heart="heart">\n        <svg class="dishes-list-heart-icon">\n        <use href="').concat(e(a),'#icon-heart">\n        </use>\n    </svg>\n</button>\n            \n            <div class="dishes-list-item-wrapper-fav">\n                <h3 class="dishes-list-item-title">').concat(r,'</h3>\n                <p class="dishes-list-item-text-fav">').concat(c,'</p>\n                <div class="dishes-list-item-wrapper-rating">\n                    <div class="dishes-list-item-wrapper-rating-star">\n                        <p class="dishes-list-item-wrapper-rating-text">').concat(l,'</p>\n                        <div class="dishes-list-item-wrapper-rating-star-5">\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon">\n                                <use href="').concat(e(a),'#icon-star">\n                                </use>\n                            </svg>\n                        </div>\n                    </div>\n                    <button type="button" data-id="').concat(s,'" data-recipe-btn="click" class="see-recipe-btn js-see-recipe js-recipe">See recipe</button>\n                </div>\n            </div>\n        </li>')})).join("");p.favoritesRecipesList.innerHTML=n}function w(){return(w=e(i)(e(o).mark((function t(n){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(n);case 3:m(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}p.favoritesCategoriesList.addEventListener("click",(function(t){var n=[],s=t.target.textContent;v.forEach((function(t){var r;t.categ[0]===s&&(r=n).push.apply(r,e(c)(t.id))})),console.log(n),function(e){w.apply(this,arguments)}(n)})),function(){g.apply(this,arguments)}(),console.log(v),r("4m3QF")}();
//# sourceMappingURL=favorites-page.8f0ebc13.js.map
