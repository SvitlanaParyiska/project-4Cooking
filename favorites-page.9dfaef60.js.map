{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-c07879062e2d7773.js","src/favorite-page.js","src/js/recipeFav.js","node_modules/@parcel/runtime-js/lib/runtime-03fe8ef0e58f0cc1.js","src/js/favorites.js","src/js/localStorageJSON.js","src/js/paginationFav.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites-page.9dfaef60.js\\\",\\\"ee16w\\\":\\\"sprite.f129be79.svg\\\",\\\"1XaNB\\\":\\\"favorites-page.5bb02363.css\\\",\\\"1sXBe\\\":\\\"index.e71fe276.js\\\"}\"));","import './js/header';\nimport './js/recipeFav';\nimport './js/favorites';\nimport './js/create_order';\nimport './js/create-modal';\nimport './js/modal-rating';\n","import { TastyAPI } from './tasty-api';\nimport svg from '../images/sprite.svg';\nimport { openCloseModal } from './create-modal';\nimport { localStorageFavourite, onBtnFavouriteClick } from './favorites';\nimport Notiflix from 'notiflix';\n\nconst refs = {\n  markupRecipe: document.querySelector('.recipe-markup'),\n  videoRecipe: document.querySelector('.recipe-video'),\n};\nconst tastyApi = new TastyAPI();\n\nexport async function markupRecipeFav(idRecipe) {\n  await tastyApi\n    .getRecipeById(idRecipe)\n    .then(recipe => {\n      refs.markupRecipe.innerHTML = createMarkupRecipe(recipe);\n      openCloseModal();\n      const btnFavourite = document.querySelector('.favorite-btn');\n      localStorageFavourite();\n      btnFavourite.addEventListener('click', onBtnFavouriteClick);\n    })\n    .catch(error => {\n      Notiflix.Notify.failure(error.message);\n    });\n}\n\nfunction createMarkupRecipe(recipe) {\n  const {\n    _id,\n    title,\n    category,\n    instructions,\n    time,\n    youtube,\n    tags,\n    ingredients,\n    rating,\n  } = recipe;\n  const activeStarMarkup = `<svg class=\"star-active\">\n      <use href=\"${svg}#icon-star\"></use>\n    </svg>`;\n  const inactiveStarMarkup = `<svg class=\"star-notActive\">\n      <use href=\"${svg}#icon-star\"></use>\n    </svg>`;\n  function generateStars(rating) {\n    let stars = '';\n    let roundedRating = Math.round(rating);\n    for (let i = 0; i < 5; i++) {\n      stars += i < roundedRating ? activeStarMarkup : inactiveStarMarkup;\n    }\n    return stars;\n  }\n\n  const ingredientList = ingredients\n    .map(\n      ({ name, measure }) =>\n        `\n    <li class=\"ingredients-item\">\n      <span class=\"ingredients-item-name\">${name}</span>\n      <span class=\"ingredients-item-measure\">${measure}</span>\n    </li>\n    `\n    )\n    .join(' ');\n\n  const tagsList = tags\n    .map(tag => {\n      return `\n    <li class=\"tags-item\">#${tag}</li>\n    `;\n    })\n    .join(' ');\n\n  return `\n <div class=\"recipe-main-info\">\n    <iframe\n    class=\"recipe-video\"\n    width=\"100%\" height=\"100%\" src=\"https://www.youtube.com/embed/${youtube.slice(\n      youtube.lastIndexOf('=') + 1\n    )}?enablejsapi=1\" title=\"YouTube video player\" \n    frameborder=\"0\" allow=\"accelerometer; autoplay;\n     clipboard-write; encrypted-media; gyroscope; picture-in-picture;\n      web-share\" allowfullscreen id='v1'>\n     </iframe> \n\n     <h2 class=\"recipe-title\">${title}</h2>\n </div>\n\n<div class=\"recipe-details-info\">\n    <div class=\"recipe-rating-time\">\n      <div  class=\"rating\">${rating.toFixed(1)}\n     <div class=\"test-tumb\">${generateStars(rating)}</div>\n          </div>\n      <p class=\"time-cooking\">${time}min</p>\n    </div>\n\n    <div class=\"recipe-ingredients-tags\">\n        <ul class=\"recipe-ingredients\">${ingredientList}</ul>\n        <ul class=\"recipe-tags\">${tagsList}</ul>\n    </div>\n  </div>\n\n  <p class=\"recipe-text\">${instructions}</p>\n  \n   <div class=\"modal-btn\">\n    <button type=\"button\" class=\"favorite-btn btn\" data-id=\"${_id}\" data-category=\"${category}\">Add to favorite</button>\n    <button type=\"button\" class=\"rating-btn btn\" data-open=\"rating\">Give a rating</button>\n   </div>\n    `;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","import svg from '../images/sprite.svg';\nimport { createPlugFavoriteMarkup } from './plug';\nimport { save, load, remove } from './localStorageJSON';\nimport { TastyAPI } from './tasty-api';\nimport { markupRecipeFav } from './recipeFav';\nimport { openCloseModal } from './create-modal';\nimport { modalRating } from './modal-rating';\nimport { pagination } from './paginationFav';\n\nconst refs = {\n  favoritesCategoriesList: document.querySelector('.favorites-category-list'),\n  favoritesRecipesList: document.querySelector('.favorites-recipes-list'),\n  emptyStorage: document.querySelector('.empty-storage-js'),\n  paginationConteiner: document.getElementById('tui-pagination-container'),\n};\n\nconst TastyApi = new TastyAPI();\nconst KEY_FAVOURITE = 'favourite';\n\nlet recipesList = [];\n\nrefs.favoritesCategoriesList.addEventListener(\n  'click',\n  filterFavRecipeByCategory\n);\n\ncheckArrFavoritesId();\n\n// main//\nexport async function checkArrFavoritesId(page = 1, sort = false) {\n  const arrFavorites = load(KEY_FAVOURITE);\n  const list = window.innerWidth < 768 ? 9 : 12;\n  const arrFavoritesId = arrFavorites.map(local => local.id);\n  if (!arrFavoritesId || arrFavoritesId.length === 0) {\n    const markStr = createPlugFavoriteMarkup();\n    refs.emptyStorage.innerHTML = markStr;\n  } else {\n    try {\n      recipesList = await fetchRecipes(arrFavoritesId);\n      pagination.setTotalItems(recipesList.length);\n      MarkUpFavSearch(createSortFavCat(arrFavorites));\n      const paginationArr = recipesList.slice(list * (page - 1), list * page);\n      MarkUpRecipes(paginationArr);\n      addHearFavoritesListeners();\n      const btnSeeRecipeArray = document.querySelectorAll('.see-recipe-btn');\n      btnSeeRecipeArray.forEach(btnSeeRecipe => {\n        btnSeeRecipe.addEventListener('click', onClickByRecipe);\n      });\n      openCloseModal();\n      itemsPerPage();\n      if (!sort) {\n        pagination.reset(recipesList.length);\n      }\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n}\n\n//get sort list categories//\nfunction createSortFavCat(arrFavorites) {\n  const newArr = [];\n  arrFavorites.forEach(item => newArr.push(item.category));\n  const arrMark = newArr\n    .filter((course, index, array) => array.indexOf(course) === index)\n    .sort((a, b) => a.localeCompare(b));\n  return arrMark;\n}\n\n//get cards of recipes from API\nasync function fetchRecipes(arrId) {\n  try {\n    const arrOfPromises = arrId.map(async itemId => {\n      const response = TastyApi.getRecipeById(itemId);\n      return response;\n    });\n    const recipes = await Promise.allSettled(arrOfPromises);\n    return recipes.map(recipe => recipe.value);\n  } catch {\n    throw new Error('ERROR');\n  }\n}\n\nfunction MarkUpFavSearch(arr) {\n  const favSearchArr = arr.map(\n    categ => ` <li class=\"fav-search-item\">\n          <button type=\"button\" class=\"fav-search-button \">${categ}</button>\n        </li>`\n  );\n  refs.favoritesCategoriesList.innerHTML = `<li class=\"fav-search-item\">\n          <button type=\"button\" class=\"fav-search-button all-category-btn active-button\">All categories</button>\n        </li>${favSearchArr.join('')}`;\n}\n\nfunction filterFavRecipeByCategory(event) {\n  const selectedCategory = event.target.textContent;\n\n  if (selectedCategory === 'All categories') {\n    checkArrFavoritesId();\n  } else {\n    const selectedCategoryObj = recipesList.filter(\n      item => item.category === selectedCategory\n    );\n    MarkUpRecipes(selectedCategoryObj);\n    addHearFavoritesListeners();\n    const btnSeeRecipeArray = document.querySelectorAll('.see-recipe-btn');\n    btnSeeRecipeArray.forEach(btnSeeRecipe => {\n      btnSeeRecipe.addEventListener('click', onClickByRecipe);\n    });\n    openCloseModal();\n    itemsPerPage();\n    pagination.reset(selectedCategoryObj.length);\n  }\n  const cardsLisCategory = document.querySelectorAll('.fav-search-button');\n  cardsLisCategory.forEach(button => {\n    button.classList.remove('active-button');\n  });\n\n  event.target.classList.add('active-button');\n}\n\nexport function MarkUpRecipes(arr) {\n  refs.favoritesRecipesList.innerHTML = '';\n  const favorArr = arr.map(\n    ({ _id, title, category, description, preview, rating }) => {\n      const activeStarMarkup = `<svg class=\"is-active-star\">\n      <use href=\"${svg}#icon-star\"></use>\n    </svg>`;\n      const inactiveStarMarkup = `<svg class=\"dishes-list-star-icon\">\n      <use href=\"${svg}#icon-star\"></use>\n    </svg>`;\n\n      function generateStars(rating) {\n        let stars = '';\n        let roundedRating = Math.round(rating);\n        for (let i = 0; i < 5; i++) {\n          stars += i < roundedRating ? activeStarMarkup : inactiveStarMarkup;\n        }\n        return stars;\n      }\n      const heartIconOff = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\">\n  <path opacity=\"0.5\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.9938 4.70783C9.16102 2.5652 6.10481 1.98884 3.80851 3.95085C1.51221 5.91285 1.18893 9.19323 2.99222 11.5137C4.49154 13.443 9.029 17.5121 10.5161 18.8291C10.6825 18.9764 10.7657 19.0501 10.8627 19.0791C10.9474 19.1043 11.0401 19.1043 11.1248 19.0791C11.2218 19.0501 11.305 18.9764 11.4714 18.8291C12.9585 17.5121 17.496 13.443 18.9953 11.5137C20.7986 9.19323 20.5148 5.89221 18.179 3.95085C15.8432 2.00948 12.8265 2.5652 10.9938 4.70783Z\" stroke=\"#F8F8F8\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>`;\n      const heartIconOn = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.9937 4.70783C9.16096 2.5652 6.10475 1.98884 3.80845 3.95085C1.51215 5.91285 1.18887 9.19323 2.99216 11.5137C4.49148 13.443 9.02894 17.5121 10.5161 18.8291C10.6825 18.9764 10.7656 19.0501 10.8627 19.0791C10.9474 19.1043 11.04 19.1043 11.1247 19.0791C11.2218 19.0501 11.305 18.9764 11.4713 18.8291C12.9585 17.5121 17.4959 13.443 18.9952 11.5137C20.7985 9.19323 20.5147 5.89221 18.179 3.95085C15.8432 2.00948 12.8264 2.5652 10.9937 4.70783Z\" fill=\"#F8F8F8\"/>\n</svg>`;\n\n      function generateHeart(id, category) {\n        return `\n    <div class=\"heart-wraper\" id=\"${id}\">\n      <input type=\"checkbox\" class=\"heart-checkbox\" id=\"${id}\" data-category=\"${category}\" />\n      <label for=\"${id}\" class=\"heart-checkbox-label\">\n        <span class=\"heartOff\">${heartIconOff}</span>\n        <span class=\"heartOn\">${heartIconOn}</span>\n      </label>\n    </div>`;\n      }\n\n      return `<li class=\"dishes-list-item\" data-id=\"${_id}\" data-category=\"${category}\" style=\"background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 0%, rgba(5, 5, 5, 0.00) 100%), url(${preview}); background-position: center;\n                      background-size: cover;\" loading=\"lazy\">\n         ${generateHeart(_id, category)}\n            \n            <div class=\"dishes-list-item-wrapper-fav\">\n                <h3 class=\"dishes-list-item-title\">${title}</h3>\n                <p class=\"dishes-list-item-text-fav\">${description}</p>\n                <div class=\"dishes-list-item-wrapper-rating\">\n                    <div class=\"dishes-list-item-wrapper-rating-star\">\n                        <p class=\"dishes-list-item-wrapper-rating-text\">${rating.toFixed(\n                          1\n                        )}</p>\n                        <div class=\"dishes-list-item-wrapper-rating-star-5\">\n                            ${generateStars(rating)}\n                        </div>\n                    </div>\n                    <button type=\"button\" data-id=\"${_id}\" data-open='recipe' data-recipe-btn=\"click\" class=\"see-recipe-btn js-see-recipe js-recipe\">See recipe</button>\n                </div>\n            </div>\n        </li>`;\n    }\n  );\n\n  refs.favoritesRecipesList.innerHTML = favorArr.join('');\n}\n\nfunction addHearFavoritesListeners() {\n  const allHeartCheckBox = document.querySelectorAll('.heart-checkbox');\n\n  allHeartCheckBox.forEach(checkbox => {\n    checkbox.addEventListener('click', onCheckboxClick);\n    checkbox.checked = true;\n  });\n}\n\nfunction onCheckboxClick(evt) {\n  const arrFavorites = load(KEY_FAVOURITE);\n  const checkbox = evt.target;\n  const checkboxId = checkbox.id;\n  const index = arrFavorites.findIndex(cardHeart => cardHeart.id == checkboxId);\n  arrFavorites.splice(index, 1);\n\n  localStorage.setItem(KEY_FAVOURITE, JSON.stringify(arrFavorites));\n  checkArrFavoritesId();\n\n  return;\n}\n\nfunction onClickByRecipe(event) {\n  const btnSeeRecipeID = event.target.dataset.id;\n  markupRecipeFav(btnSeeRecipeID);\n  modalRating(btnSeeRecipeID);\n}\n\nexport function localStorageFavourite() {\n  const storedData = localStorage.getItem('favourite');\n  if (storedData) {\n    const favouriteArrLocalStor = JSON.parse(storedData);\n    const btnFavourite = document.querySelector('.favorite-btn');\n    const btnFavouriteID = btnFavourite.dataset.id;\n    favouriteArrLocalStor.forEach(FavoriteObj => {\n      if (btnFavouriteID === FavoriteObj.id) {\n        btnFavourite.textContent = 'Remove to favorite';\n      }\n    });\n  }\n}\n\nexport function onBtnFavouriteClick() {\n  const arrFavorites = load(KEY_FAVOURITE);\n  const btnFavourite = document.querySelector('.favorite-btn');\n  const btnFavouriteCard = btnFavourite.dataset;\n  const checkbox = document.querySelectorAll('.heart-checkbox');\n  if (btnFavourite.textContent === 'Remove to favorite') {\n    btnFavourite.textContent = 'Add to favorite';\n    checkbox.forEach(heart => {\n      const heartId = heart.getAttribute('id');\n      if (heartId === btnFavouriteCard.id) {\n        heart.checked = false;\n      }\n    });\n    arrFavorites.map((value, index) => {\n      if (btnFavouriteCard.id === value.id) {\n        arrFavorites.splice(index, 1);\n      }\n    });\n    const favouriteArrLocalStorString = JSON.stringify(arrFavorites);\n    localStorage.setItem('favourite', favouriteArrLocalStorString);\n  } else {\n    checkbox.forEach(heart => {\n      const heartId = heart.getAttribute('id');\n      if (heartId === btnFavouriteCard.id) {\n        heart.checked = true;\n      }\n    });\n    btnFavourite.textContent = 'Remove to favorite';\n    if (arrFavorites.includes(btnFavouriteCard)) {\n      return;\n    }\n    arrFavorites.push(btnFavouriteCard);\n    const favouriteArrLocalStorString = JSON.stringify(arrFavorites);\n    localStorage.setItem('favourite', favouriteArrLocalStorString);\n  }\n  checkArrFavoritesId();\n}\n\n/**SCROLL */\nconst scrollBtn = document.querySelector('.scroll-btn-show');\n\nwindow.onload = () => {\n  window.onscroll = function (e) {\n    let winY = window.scrollY;\n    if (winY > 300) {\n      progressBar();\n\n      scrollAnimation();\n\n      winY = null;\n    }\n  };\n\n  window.onscroll = () => {\n    if (window.scrollY > 500) {\n      scrollBtn.classList.remove('scroll-top-hide');\n    } else if (window.scrollY < 500) {\n      scrollBtn.classList.add('scroll-top-hide');\n    }\n  };\n\n  scrollBtn.addEventListener('mousedown', onScrlBtnClick);\n  function onScrlBtnClick(e) {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  }\n};\n\n// Pagination//\n\nfunction itemsPerPage() {\n  if (window.innerWidth <= 768) {\n    pagination.setItemsPerPage(9);\n    return 9;\n  } else {\n    pagination.setItemsPerPage(12);\n    return 12;\n  }\n}\n","import { Notify } from 'notiflix';\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n    Notify.failure('Something went wrong. Please try again');\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n    Notify.failure('Something went wrong. Please try again');\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove item error: ', error.message);\n    Notify.failure('Something went wrong. Please try again');\n  }\n};\n\nexport { save, load, remove };\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { save, load, remove } from './localStorageJSON';\nimport { checkArrFavoritesId } from './favorites';\n\nconst container = document.getElementById('tui-pagination-container');\nconst KEY_FAVOURITE = 'favourite';\n\nlet storedData = load(KEY_FAVOURITE);\nlet length = 0;\nif (storedData) {\n  length = storedData.length;\n}\n\nconst optionsFav = {\n  totalItems: length,\n  itemsPerPage: window.innerWidth < 768 ? 9 : 12,\n  visiblePages: window.innerWidth < 768 ? 2 : 3,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage:\n      '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>',\n  },\n};\n\nexport const pagination = new Pagination(container, optionsFav);\n\npagination.on('afterMove', getAll);\n\nfunction getAll(event) {\n  const currentPage = event.page;\n  checkArrFavoritesId(currentPage, true);\n  window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n}\n"],"names":["parcelRequire","register","JSON","parse","$bpxeT","$5110dce03eac504f$exports","getBundleURL","resolve","$6JpON","$9fc9c76502273646$export$11e63f7b0f3d9900","key","serializedState","localStorage","getItem","undefined","error","console","message","Notify","failure","$1VFfL","$8581add4a56dd1a3$var$container","document","getElementById","$8581add4a56dd1a3$var$storedData","$8581add4a56dd1a3$var$length","length","$8581add4a56dd1a3$var$optionsFav","totalItems","itemsPerPage","window","innerWidth","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$8581add4a56dd1a3$export$22fa394f3ba39578","$parcel$interopDefault","on","event","$6befdf793f7dd1b0$export$d93cf0eb481a5e5f","scrollTo","top","left","behavior","$6befdf793f7dd1b0$var$refs","favoritesCategoriesList","querySelector","favoritesRecipesList","emptyStorage","paginationConteiner","$6befdf793f7dd1b0$var$TastyApi","$lfVVO","TastyAPI","$6befdf793f7dd1b0$var$KEY_FAVOURITE","$6befdf793f7dd1b0$var$recipesList","$6befdf793f7dd1b0$var$_checkArrFavoritesId","apply","this","arguments","$2TvXO","mark","_callee","sort","arrFavorites","list","arrFavoritesId","markStr","_args","map","local","id","$bHHEi","createPlugFavoriteMarkup","innerHTML","$6befdf793f7dd1b0$var$fetchRecipes","_ctx","sent","setTotalItems","$6befdf793f7dd1b0$var$MarkUpFavSearch","$6befdf793f7dd1b0$var$createSortFavCat","$6befdf793f7dd1b0$export$51ebe0773c6f34a0","slice","$6befdf793f7dd1b0$var$addHearFavoritesListeners","querySelectorAll","forEach","btnSeeRecipe","addEventListener","$6befdf793f7dd1b0$var$onClickByRecipe","$5TBXW","openCloseModal","$6befdf793f7dd1b0$var$itemsPerPage","reset","log","t0","newArr","item","push","category","filter","course","index","array","indexOf","a","b","localeCompare","arrId","$6befdf793f7dd1b0$var$_fetchRecipes","_callee1","arrOfPromises","recipes","itemId","response","getRecipeById","Promise","allSettled","_ctx1","recipe","value","Error","arr","favSearchArr","categ","concat","join","favorArr","param","_id","title","category1","description","preview","rating1","rating","activeStarMarkup","inactiveStarMarkup","toFixed","stars","roundedRating","Math","round","i","generateStars","checkbox","$6befdf793f7dd1b0$var$onCheckboxClick","checked","evt","checkboxId","target","findIndex","cardHeart","splice","setItem","stringify","btnSeeRecipeID","dataset","$5ba636dc348edd2b$export$fdfa4162af946398","$98X1s","modalRating","$6befdf793f7dd1b0$export$9c9f2df8fb1af913","storedData","favouriteArrLocalStor","btnFavourite","btnFavouriteID","FavoriteObj","textContent","$6befdf793f7dd1b0$export$e77f4ac0ee7a2b54","btnFavouriteCard","heart","getAttribute","favouriteArrLocalStorString","includes","favouriteArrLocalStorString1","selectedCategory","selectedCategoryObj","button","classList","remove","add","$6befdf793f7dd1b0$var$scrollBtn","setItemsPerPage","onload","onscroll","e","winY","scrollY","progressBar","scrollAnimation","$5ba636dc348edd2b$var$refs","markupRecipe","videoRecipe","$5ba636dc348edd2b$var$tastyApi","idRecipe","$5ba636dc348edd2b$var$_markupRecipeFav","then","$5ba636dc348edd2b$var$createMarkupRecipe","catch","instructions","time","youtube","tags","ingredients","ingredientList","name","measure","tagsList","tag","lastIndexOf"],"version":3,"file":"favorites-page.9dfaef60.js.map"}