{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-cc952712855cbc07.js","src/favorite-page.js","src/js/favorites.js","src/js/plug.js","node_modules/@parcel/runtime-js/lib/runtime-03fe8ef0e58f0cc1.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1Z6Xn\\\":\\\"favorites-page.c0745de1.js\\\",\\\"ee16w\\\":\\\"sprite.0c854115.svg\\\",\\\"1sXBe\\\":\\\"index.8e4a5f57.js\\\"}\"));","import './js/header';\nimport './js/favorites-hero';\nimport './js/favorites';\n","import axios from 'axios';\nimport svg from '../images/sprite.svg';\nimport { createPlugFavoriteMarkup } from './plug';\nimport { save, load, remove } from './localStorageJSON';\n\nconst refs = {\n  favoritesCategoriesList: document.querySelector('.favorites-category-list'),\n  favoritesRecipesList: document.querySelector('.favorites-recipes-list'),\n  emptyStorage: document.querySelector('.empty-storage-js'),\n  listRecipeEl: document.querySelector('.favorites-recipes-list'),\n\n  //paginationBox: document.getElementById('pagination'),\n  //allBtn: document.querySelector('.all-btn'),\n};\nconst KEY_FAVOURITE = 'favourite';\nlet favArrList = [];\nlet favCatArrObj = [];\nlet favSortArr = [];\n\nrefs.listRecipeEl.addEventListener('click', selectId);\n\ncheckArrFavoritesId();\n\nasync function checkArrFavoritesId() {\n  const arrFavoritesId = load(KEY_FAVOURITE);\n\n  if (!arrFavoritesId || arrFavoritesId.length === 0) {\n    const markStr = createPlugFavoriteMarkup();\n    refs.emptyStorage.innerHTML = markStr;\n  }\n\n  try {\n    const recipesList = await fetchUsers(arrFavoritesId);\n    MarkUpRecipes(recipesList);\n    const favoritListArr = favArrList\n      .filter((course, index, array) => array.indexOf(course) === index)\n      .sort((a, b) => a.localeCompare(b));\n    MarkUpFavSearch(favoritListArr);\n    const seeRecipeBtn = document.querySelectorAll('.js-recipe');\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction selectId(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const selectedId = event.target.dataset.id;\n  seeRecipe(selectedId);\n}\n\nfunction seeRecipe(id) {}\n\nasync function fetchUsers(arrId) {\n  const BASE_URL_RECIPES =\n    'https://tasty-treats-backend.p.goit.global/api/recipes/';\n  try {\n    const arrOfPromises = arrId.map(async itemId => {\n      const response = await fetch(`${BASE_URL_RECIPES}${itemId}`);\n      return response.json();\n    });\n    const recipes = await Promise.allSettled(arrOfPromises);\n    return recipes;\n  } catch {\n    throw new Error('ERROR');\n  }\n}\n\nfunction MarkUpFavSearch(arr) {\n  const favSearchArr = arr.map(\n    search => ` <li class=\"fav-search-item\">\n          <button type=\"button\" class=\"fav-search-button\">${search}</button>\n        </li>`\n  );\n  refs.favoritesCategoriesList.innerHTML = `<li class=\"fav-search-item\">\n          <button type=\"button\" class=\"fav-search-button all-category-btn\">All  categories</button>\n        </li>${favSearchArr.join('')}`;\n}\n\nfunction MarkUpRecipes(arr) {\n  const favorArr = arr\n    .map(\n      ({ value: { _id, title, category, description, preview, rating } }) => {\n        favArrList.push(category);\n        favCatArrObj.push({ categ: [category], id: [_id] });\n        return `<li class=\" dishes-list-item-fav\" data-id=\"${_id}\" data-category=\"${category}\" style=\"background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 0%, rgba(5, 5, 5, 0.00) 100%), url(${preview}); background-position: center;\n                      background-size: cover;\">\n        <button type=\"button\" aria-label=\"Favorite Button\" class=\"heart-btn js-favourite\" data-heart=\"heart\">\n        <svg class=\"dishes-list-heart-icon\">\n        <use href=\"${svg}#icon-heart\">\n        </use>\n    </svg>\n</button>\n            \n            <div class=\"dishes-list-item-wrapper\">\n                <h3 class=\"dishes-list-item-title\">${title}</h3>\n                <p class=\"dishes-list-item-text-fav\">${description}</p>\n                <div class=\"dishes-list-item-wrapper-rating\">\n                    <div class=\"dishes-list-item-wrapper-rating-star\">\n                        <p class=\"dishes-list-item-wrapper-rating-text\">${rating}</p>\n                        <div class=\"dishes-list-item-wrapper-rating-star-5\">\n                            <svg class=\"dishes-list-star-icon is-active-star\">\n                                <use href=\"${svg}#icon-star\">\n                                </use>\n                            </svg>\n                            <svg class=\"dishes-list-star-icon is-active-star\">\n                                <use href=\"${svg}#icon-star\">\n                                </use>\n                            </svg>\n                            <svg class=\"dishes-list-star-icon is-active-star\">\n                                <use href=\"${svg}#icon-star\">\n                                </use>\n                            </svg>\n                            <svg class=\"dishes-list-star-icon is-active-star\">\n                                <use href=\"${svg}#icon-star\">\n                                </use>\n                            </svg>\n                            <svg class=\"dishes-list-star-icon\">\n                                <use href=\"${svg}#icon-star\">\n                                </use>\n                            </svg>\n                        </div>\n                    </div>\n                    <button type=\"button\" data-id=\"${_id}\" data-recipe-btn=\"click\" class=\"see-recipe-btn js-see-recipe js-recipe\">See recipe</button>\n                </div>\n            </div>\n        </li>`;\n      }\n    )\n\n    .join('');\n  refs.favoritesRecipesList.innerHTML = favorArr;\n}\n\nconsole.log(favCatArrObj);\n\n// function filterFavoriteCard() {\n//   const cardsLisCategory = document.querySelectorAll('.fav-search-button');\n\n//   cardsLisCategory.forEach(button => {\n//     button.addEventListener('click', event => {\n//       const selectedCategory = event.target.textContent;\n//       save('category', selectedCategory);\n//       save('page', 1);\n\n//       favSortArr = [];\n      \n//       favCatArrObj.forEach(obj => {\n//         if (obj.categ[0] === selectedCategory) {\n//           favSortArr.push(...obj.id);\n//         }\n//       });\n\n//       rend();\n//       pagination.reset(favSortArr.length); \n//     });\n//   });\n// }\n\n// function rend() {\n//   const recipesList = favSortArr.map(recipeId => {\n//     return recipes.find(recipe => recipe._id === recipeId);\n//   });\n\n//   MarkUpRecipes(recipesList);\n// }\n// filterFavoriteCard()\n","import svg from '../images/sprite.svg';\n\nfunction createPlugFavoriteMarkup() {\n  return `\n  <span>\n  <svg class='favorites-icon' width='97' height='83'>\n    <use href='${svg}#icon-favorites'></use>\n  </svg>\n</span>\n<p class='plug-text-favorite'>It appears that you haven't added any recipes to your favorites yet. To get started, you can add recipes that you like to your favorites for easier access in the future.</p>`;\n}\n\nfunction createPlugMarkup() {\n  return `\n  <span>\n  <svg class='favorites-icon' width='97' height='83'>\n    <use href='${svg}#icon-favorites'></use>\n  </svg>\n</span>\n<p>Not found</p>`;\n}\n\nexport { createPlugFavoriteMarkup, createPlugMarkup };\n","module.exports = require('./helpers/bundle-url').getBundleURL('1Z6Xn') + require('./helpers/bundle-manifest').resolve(\"ee16w\");"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$8855919e0fc4e8d6$export$a84fac2871f29606","concat","$parcel$interopDefault","$5110dce03eac504f$exports","getBundleURL","resolve","$6befdf793f7dd1b0$var$refs","favoritesCategoriesList","document","querySelector","favoritesRecipesList","emptyStorage","listRecipeEl","$6befdf793f7dd1b0$var$KEY_FAVOURITE","$6befdf793f7dd1b0$var$favArrList","$6befdf793f7dd1b0$var$favCatArrObj","$6befdf793f7dd1b0$var$_checkArrFavoritesId","$2TvXO","mark","_callee","arrFavoritesId","markStr","$dIy1I","load","innerHTML","$6befdf793f7dd1b0$var$fetchUsers","$6befdf793f7dd1b0$var$MarkUpRecipes","_ctx","sent","$6befdf793f7dd1b0$var$MarkUpFavSearch","filter","course","index","array","indexOf","sort","a","b","localeCompare","querySelectorAll","console","log","t0","message","apply","this","arguments","arrId","$6befdf793f7dd1b0$var$_fetchUsers","_callee1","arrOfPromises","recipes","map","itemId","response","fetch","json","Promise","allSettled","_ctx1","arr","favSearchArr","search","join","favorArr","param","_id","_value","title","category","description","preview","rating","push","categ","addEventListener","event","target","nodeName","dataset","$6befdf793f7dd1b0$var$checkArrFavoritesId"],"version":3,"file":"favorites-page.c0745de1.js.map"}