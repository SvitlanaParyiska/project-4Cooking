function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in s)return s[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return s[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},t.parcelRequired7c6=a),a("kyEFX").register(JSON.parse('{"bTGq4":"favorites-page.06d7bab9.js","lp5u4":"sprite.f129be79.svg","b3ZSW":"index.a3296b03.js"}')),a("bUb57");var n;n=new URL(a("kyEFX").resolve("lp5u4"),import.meta.url).toString();var r=a("ey8Ff"),o=a("iELe5");const c={favoritesCategoriesList:document.querySelector(".favorites-category-list"),favoritesRecipesList:document.querySelector(".favorites-recipes-list"),emptyStorage:document.querySelector(".empty-storage-js"),listRecipeEl:document.querySelector(".favorites-recipes-list"),cardsLisCategory:document.querySelectorAll(".fav-search-button")};let l=[],u=[];async function d(e){try{const t=e.map((async e=>(await fetch(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`)).json()));return await Promise.allSettled(t)}catch{throw new Error("ERROR")}}function p(t){const s=t.map((({value:{_id:t,title:s,category:i,description:a,preview:r,rating:o}})=>(l.push(i),u.push({categ:[i],id:[t]}),`<li class=" dishes-list-item-fav" data-id="${t}" data-category="${i}" style="background: linear-gradient(1deg, rgba(5, 5, 5, 0.60) 0%, rgba(5, 5, 5, 0.00) 100%), url(${r}); background-position: center;\n                      background-size: cover;">\n        <button type="button" aria-label="Favorite Button" class="heart-btn js-favourite" data-heart="heart">\n        <svg class="dishes-list-heart-icon">\n        <use href="${e(n)}#icon-heart">\n        </use>\n    </svg>\n</button>\n            \n            <div class="dishes-list-item-wrapper-fav">\n                <h3 class="dishes-list-item-title">${s}</h3>\n                <p class="dishes-list-item-text-fav">${a}</p>\n                <div class="dishes-list-item-wrapper-rating">\n                    <div class="dishes-list-item-wrapper-rating-star">\n                        <p class="dishes-list-item-wrapper-rating-text">${o}</p>\n                        <div class="dishes-list-item-wrapper-rating-star-5">\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="${e(n)}#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="${e(n)}#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="${e(n)}#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon is-active-star">\n                                <use href="${e(n)}#icon-star">\n                                </use>\n                            </svg>\n                            <svg class="dishes-list-star-icon">\n                                <use href="${e(n)}#icon-star">\n                                </use>\n                            </svg>\n                        </div>\n                    </div>\n                    <button type="button" data-id="${t}" data-recipe-btn="click" class="see-recipe-btn js-see-recipe js-recipe">See recipe</button>\n                </div>\n            </div>\n        </li>`))).join("");c.favoritesRecipesList.innerHTML=s}c.favoritesCategoriesList.addEventListener("click",(function(e){let t=[];const s=e.target.textContent;u.forEach((e=>{e.categ[0]===s&&t.push(...e.id)})),console.log(t),async function(e){try{p(await d(e))}catch(e){console.log(e.message)}}(t)})),async function(){const e=(0,o.load)("favourite");if(!e||0===e.length){const e=(0,r.createPlugFavoriteMarkup)();c.emptyStorage.innerHTML=e}try{p(await d(e));!function(e){console.log(e);const t=e.map((e=>` <li class="fav-search-item">\n          <button type="button" class="fav-search-button">${e}</button>\n        </li>`));c.favoritesCategoriesList.innerHTML=`<li class="fav-search-item">\n          <button type="button" class="fav-search-button all-category-btn">All  categories</button>\n        </li>${t.join("")}`}(l.filter(((e,t,s)=>s.indexOf(e)===t)).sort(((e,t)=>e.localeCompare(t))));document.querySelectorAll(".js-recipe")}catch(e){console.log(e.message)}}(),console.log(u),a("3vTQW");
//# sourceMappingURL=favorites-page.06d7bab9.js.map
